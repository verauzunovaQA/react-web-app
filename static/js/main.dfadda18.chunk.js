(this["webpackJsonpreact-web-app"]=this["webpackJsonpreact-web-app"]||[]).push([[0],{19:function(t,e,n){},20:function(t,e,n){},22:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),c=n(13),a=n.n(c),d=(n(19),n(2)),s=(n(20),n(14)),u=n(5),r=n(4),l=n(26),j=n(9),b=n(10),m=new(function(){function t(){Object(j.a)(this,t)}return Object(b.a)(t,[{key:"add",value:function(t,e){localStorage.setItem(t,JSON.stringify(e))}},{key:"get",value:function(t){return JSON.parse(localStorage.getItem(t))}}]),t}()),O=n(6),f=n(1);function v(t){return Object(f.jsxs)("li",{className:"todo-separate-items",children:[Object(f.jsx)("span",{className:"todo-item-status-icon".concat(t.todoItem.isDone?" is-done":""),"data-testid":"todo-item-toggle-done",onClick:function(){return t.onClickDone(t.todoItem.id)}}),t.todoItem.isEditing?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{className:"input-field","data-testid":"todo-item-change-existing-item",type:"text",onKeyUp:function(e){return t.onKeyUpEdit(e.key,t.todoItem.id)},value:t.todoItem.value,onChange:function(e){return t.onChangeExistingTodoItem(e.currentTarget.value,t.todoItem.id)},autoFocus:!0}),Object(f.jsx)("button",{className:"todo-button save-button","data-testid":"todo-item-save-button",onClick:function(){return t.onClickSave(t.todoItem.id)},children:"save"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.b,{className:"input-list-items","data-testid":"todo-item-value",to:"todos/".concat(t.todoItem.id),children:t.todoItem.value})," ",Object(f.jsx)("button",{className:"todo-button","data-testid":"todo-item-edit-button",onClick:function(){return t.onClickEdit(t.todoItem.id)},children:"edit"})," ",Object(f.jsx)("button",{className:"todo-button","data-testid":"todo-item-remove-button",onClick:function(){return t.onClickRemove(t.todoItem.id)},children:"remove"})]})]})}n(22);function h(){var t,e=null!==(t=m.get("todos"))&&void 0!==t?t:[],n=Object(o.useRef)(null),i=Object(o.useState)(e),c=Object(r.a)(i,2),a=c[0],d=c[1],j=Object(o.useState)(""),b=Object(r.a)(j,2),O=b[0],h=b[1],g=function(t,e){if(0!==t.trim().length){var n=a.map((function(n){return n.id===e?Object(u.a)(Object(u.a)({},n),{},{value:t}):n}));D(n)}},p=function(t){var e=a.filter((function(e){return e.id!==t}));D(e)},x=function(t){var e=a.map((function(e){return e.id===t?Object(u.a)(Object(u.a)({},e),{},{isEditing:!0}):e}));D(e,!1)},I=function(t){S(t)},C=function(t){var e=a.map((function(e){return e.id===t?Object(u.a)(Object(u.a)({},e),{},{isDone:!e.isDone,updatedAt:(new Date).toISOString()}):e}));D(e)},D=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.sort((function(t,e){return t.isDone&&!e.isDone?1:!t.isDone&&e.isDone?-1:0}));e&&m.add("todos",n),d(n)},k=function(){if(0!==O.trim().length){var t=[].concat(Object(s.a)(a),[{id:Object(l.a)(),value:O,isEditing:!1,isDone:!1,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}]);D(t),h(""),n.current&&n.current.focus()}},S=function(t){var e=a.map((function(e){return e.id===t?Object(u.a)(Object(u.a)({},e),{},{isEditing:!1,updatedAt:(new Date).toISOString()}):e}));D(e)},y=function(t,e){w(t)&&S(e)},w=function(t){return"Enter"===t};return Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{className:"new-todo-input","data-testid":"todo-list-new-todo-input",type:"text",onKeyUp:function(t){w(t.key)&&k()},onChange:function(t){h(t.target.value)},value:O,ref:n,autoFocus:!0}),Object(f.jsx)("input",{className:"create-new-todo-button","data-testid":"todo-list-new-todo-button",type:"submit",disabled:0===O.trim().length,onClick:function(){k()},value:"submit"}),Object(f.jsx)("ul",{className:"padding-elements","data-testid":"todo-list-container",children:a.map((function(t){return Object(f.jsx)(v,{todoItem:t,onChangeExistingTodoItem:g,onClickDone:C,onClickEdit:x,onClickRemove:p,onClickSave:I,onKeyUpEdit:y},t.id)}))})]})}var g=n(12),p=n.n(g),x=new(function(){function t(){Object(j.a)(this,t)}return Object(b.a)(t,[{key:"getById",value:function(t){var e;return(null!==(e=m.get("todos"))&&void 0!==e?e:[]).find((function(e){return e.id===t}))}}]),t}());function I(){var t=Object(d.g)().todoId,e=x.getById(t);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{children:["Value: ",null===e||void 0===e?void 0:e.value]}),Object(f.jsxs)("div",{children:["Is done: ",(null===e||void 0===e?void 0:e.isDone)?"Yes":"No"]}),Object(f.jsxs)("div",{children:["Created at: ",p()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD hh:mm")]}),Object(f.jsxs)("div",{children:["Updated at: ",p()(null===e||void 0===e?void 0:e.updatedAt).format("YYYY-MM-DD hh:mm")]}),Object(f.jsx)(O.b,{to:"/",children:"Go home"})]})}var C=function(){return Object(f.jsx)("div",{children:Object(f.jsxs)("header",{className:"App-header",children:[Object(f.jsx)("h1",{children:"ToDoList"}),Object(f.jsxs)(d.c,{children:[Object(f.jsx)(d.a,{path:"/",element:Object(f.jsx)(h,{})}),Object(f.jsx)(d.a,{path:"/todos/:todoId",element:Object(f.jsx)(I,{})})]})]})})},D=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),o(t),i(t),c(t),a(t)}))};a.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(O.a,{children:Object(f.jsx)(C,{})})}),document.getElementById("root")),D()}},[[24,1,2]]]);
//# sourceMappingURL=main.dfadda18.chunk.js.map